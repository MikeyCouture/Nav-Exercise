<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="styles.css" />
    <title>Nav Exercises</title>
  </head>
  <body>
    <header id="head" class="header">
      <nav>
        <ul
          class="list
        "
        >
          <li><a href="#head" class="nav_link">Home</a></li>
          <li><a href="#section1" class="nav_link">About</a></li>
          <li><a href="#section2" class="nav_link">Blog</a></li>
          <li><a href="#section3" class="nav_link">Contact Us</a></li>
        </ul>
      </nav>
      <div class="banner"></div>
    </header>
    <main>
      <section id="section1" class="section">
        <div>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi odio
            augue, suscipit sit amet auctor at, euismod placerat est. Aliquam
            erat volutpat. Duis est sem, tempus vitae tempus eu, venenatis ac
            nunc. Etiam dictum, sapien eget pretium molestie, augue elit feugiat
            felis, id congue urna ipsum ultrices ex. Proin dapibus purus at erat
            pellentesque
          </p>
        </div>
      </section>
      <section id="section2" class="section">
        <div>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi odio
            augue, suscipit sit amet auctor at, euismod placerat est. Aliquam
            erat volutpat. Duis est sem, tempus vitae tempus eu, venenatis ac
            nunc. Etiam dictum, sapien eget pretium molestie, augue elit feugiat
            felis, id congue urna ipsum ultrices ex. Proin dapibus purus at erat
            pellentesque
          </p>
        </div>
        <div>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi odio
            augue, suscipit sit amet auctor at, euismod placerat est. Aliquam
            erat volutpat. Duis est sem, tempus vitae tempus eu, venenatis ac
            nunc. Etiam dictum, sapien eget pretium molestie, augue elit feugiat
            felis, id congue urna ipsum ultrices ex. Proin dapibus purus at erat
            pellentesque
          </p>
        </div>
      </section>
      <section id="section3" class="section">
        <div>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi odio
            augue, suscipit sit amet auctor at, euismod placerat est. Aliquam
            erat volutpat. Duis est sem, tempus vitae tempus eu, venenatis ac
            nunc. Etiam dictum, sapien eget pretium molestie, augue elit feugiat
            felis, id congue urna ipsum ultrices ex. Proin dapibus purus at erat
            pellentesque
          </p>
        </div>
        <div>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi odio
            augue, suscipit sit amet auctor at, euismod placerat est. Aliquam
            erat volutpat. Duis est sem, tempus vitae tempus eu, venenatis ac
            nunc. Etiam dictum, sapien eget pretium molestie, augue elit feugiat
            felis, id congue urna ipsum ultrices ex. Proin dapibus purus at erat
            pellentesque
          </p>
        </div>
      </section>
    </main>
    <footer class="footer"></footer>
  </body>
</html>

<script>
  // Smooth Scroll Behaviour
  const list = document.querySelector(".list");
  list.addEventListener("click", function(e) {
    if (e.target.classList.contains("nav_link")) {
      e.preventDefault();
      const id = e.target.getAttribute("href");
      document.querySelector(id).scrollIntoView({ behavior: "smooth" });
    }
  });

  //Intersection Observer API

  const header = document.querySelector(".header");
  const navHeight = document
    .querySelector(".header nav")
    .getBoundingClientRect().height;
  const nav = document.querySelector(".header nav");

  const stickyNav = function(entries) {
    const [entry] = entries;
    console.log(entry);
    if (!entry.isIntersecting) {
      nav.classList.add("sticky");
    } else {
      nav.classList.remove("sticky");
    }
  };

  const Observer = new IntersectionObserver(stickyNav, {
    root: null,
    threshold: 0,
    rootMargin: `-${navHeight}px`
  });

  Observer.observe(header);
</script>
